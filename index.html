<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Falling Stars Collector ‚≠ê</title>

<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: linear-gradient(#1b0036, #3d0066);
        font-family: Arial, sans-serif;
    }

    #player {
        width: 80px;
        height: 80px;
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-image: url('https://cdn-icons-png.flaticon.com/512/616/616430.png');
        background-size: cover;
    }

    .star {
        width: 50px;
        height: 50px;
        position: absolute;
        top: -50px;
        background-image: url('https://cdn-icons-png.flaticon.com/512/1828/1828884.png');
        background-size: cover;
        animation: fall 3s linear forwards;
    }

    .bomb {
        width: 55px;
        height: 55px;
        position: absolute;
        top: -60px;
        background-image: url('https://cdn-icons-png.flaticon.com/512/562/562623.png');
        background-size: cover;
        animation: fall 2.7s linear forwards;
    }

    @keyframes fall {
        to { transform: translateY(110vh); }
    }

    #score {
        position: absolute;
        color: white;
        font-size: 2rem;
        left: 20px;
        top: 20px;
    }

    #game-over {
        position: absolute;
        width: 100%;
        text-align: center;
        top: 40%;
        font-size: 3rem;
        color: white;
        display: none;
    }

    #restart {
        display: none;
        margin-top: 20px;
        padding: 12px 30px;
        background: #ff4aad;
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1.5rem;
        cursor: pointer;
    }

    #restart:hover {
        background: #ff6cc7;
        transform: scale(1.1);
    }
</style>
</head>

<body>

<div id="player"></div>
<div id="score">Score: 0</div>
<div id="game-over">GAME OVER üíÄ<br><button id="restart">Restart</button></div>

<script>
    const player = document.getElementById('player');
    const scoreDisplay = document.getElementById('score');
    const gameOverText = document.getElementById('game-over');
    const restartBtn = document.getElementById('restart');

    let score = 0;
    let gameOver = false;

    // PLAYER MOVEMENT
    document.addEventListener("mousemove", (e) => {
        let x = e.clientX - 40;
        player.style.left = x + "px";
    });

    // SPAWN FALLING OBJECTS
    function spawnItem() {
        if (gameOver) return;

        let isBomb = Math.random() < 0.2; 
        let item = document.createElement("div");
        item.classList.add(isBomb ? "bomb" : "star");

        item.style.left = Math.random() * (window.innerWidth - 50) + "px";
        document.body.appendChild(item);

        let fallInterval = setInterval(() => {
            let itemRect = item.getBoundingClientRect();
            let playerRect = player.getBoundingClientRect();

            // Check collision
            if (
                itemRect.bottom >= playerRect.top &&
                itemRect.top <= playerRect.bottom &&
                itemRect.right >= playerRect.left &&
                itemRect.left <= playerRect.right
            ) {
                if (isBomb) {
                    endGame();
                } else {
                    score++;
                    scoreDisplay.textContent = "Score: " + score;
                }
                item.remove();
                clearInterval(fallInterval);
            }

            // Remove when off screen
            if (itemRect.top > window.innerHeight) {
                item.remove();
                clearInterval(fallInterval);
            }
        }, 20);

        setTimeout(spawnItem, isBomb ? 800 : 600);
    }

    spawnItem();

    // END GAME
    function endGame() {
        gameOver = true;
        gameOverText.style.display = "block";
        restartBtn.style.display = "inline-block";
    }

    // RESTART
    restartBtn.addEventListener("click", () => {
        window.location.reload();
    });
</script>

</body>
</html>
