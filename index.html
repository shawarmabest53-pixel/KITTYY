<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Star Catcher Deluxe ‚≠êüåå</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        font-family: "Poppins", sans-serif;
        background: url("https://i.pinimg.com/originals/3f/9f/6c/3f9f6c8b2355450759df3cb31c8b6ffa.gif");
        background-size: cover;
    }

    /* --- Player Character --- */
    #player {
        width: 90px;
        height: 90px;
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-size: cover;
        filter: drop-shadow(0 0 10px white);
        display: none;
    }

    /* --- Falling Items --- */
    .star {
        width: 50px;
        height: 50px;
        position: absolute;
        top: -60px;
        background-image: url("https://cdn-icons-png.flaticon.com/512/1828/1828884.png");
        background-size: cover;
        animation: fall 3.2s linear forwards;
        filter: drop-shadow(0 0 6px #ffdd66);
    }

    .bomb {
        width: 55px;
        height: 55px;
        position: absolute;
        top: -60px;
        background-image: url("https://cdn-icons-png.flaticon.com/512/562/562623.png");
        background-size: cover;
        animation: fall 2.8s linear forwards;
        filter: drop-shadow(0 0 8px red);
    }

    @keyframes fall {
        to { transform: translateY(110vh); }
    }

    /* Scoreboard */
    #scoreboard {
        position: absolute;
        top: 20px;
        left: 20px;
        color: white;
        font-size: 1.7rem;
        text-shadow: 0 0 10px black;
        display: none;
    }

    /* Instructions */
    #instructions {
        position: absolute;
        top: 15%;
        width: 100%;
        text-align: center;
        font-size: 2.5rem;
        color: white;
        text-shadow: 0 0 15px black;
    }

    /* Start Button */
    #start-btn {
        padding: 15px 40px;
        background: #ff44c4;
        border: none;
        border-radius: 12px;
        color: white;
        font-size: 2rem;
        margin-top: 20px;
        cursor: pointer;
        box-shadow: 0 0 20px #ff44c4;
        display: none;
    }

    #start-btn:hover {
        transform: scale(1.1);
    }

    /* Game Over */
    #game-over {
        position: absolute;
        width: 100%;
        text-align: center;
        top: 40%;
        font-size: 3rem;
        color: white;
        text-shadow: 0 0 10px black;
        display: none;
    }

    #restart {
        padding: 12px 30px;
        background: #ff44c4;
        border: none;
        border-radius: 12px;
        color: white;
        font-size: 1.8rem;
        margin-top: 15px;
        cursor: pointer;
        display: none;
        box-shadow: 0 0 15px #ff44c4;
    }

    .explode {
        background-image: url("https://i.gifer.com/7efs.gif");
        background-size: cover;
    }

    /* --- Character Select --- */
    #character-select {
        text-align: center;
        color: white;
        font-size: 2.3rem;
        margin-top: 40px;
        text-shadow: 0 0 15px black;
    }

    .characters {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin-top: 30px;
    }

    .char-option {
        width: 110px;
        height: 110px;
        border-radius: 15px;
        background-size: cover;
        border: 4px solid white;
        cursor: pointer;
        transition: 0.3s;
        filter: drop-shadow(0 0 10px black);
    }

    .char-option:hover {
        transform: scale(1.15);
        border-color: #ff44c4;
    }

    .selected {
        border-color: #7affff !important;
        box-shadow: 0 0 20px #7affff;
        transform: scale(1.2);
    }
</style>
</head>

<body>

<!-- CHARACTER SELECT -->
<div id="character-select">
    ‚≠ê Choose Your Character ‚≠ê
    <div class="characters">
        <div class="char-option" data-img="https://cdn-icons-png.flaticon.com/512/220/220013.png"
             style="background-image: url('https://cdn-icons-png.flaticon.com/512/220/220013.png');"></div>

        <div class="char-option" data-img="https://cdn-icons-png.flaticon.com/512/1998/1998627.png"
             style="background-image: url('https://cdn-icons-png.flaticon.com/512/1998/1998627.png');"></div>

        <div class="char-option" data-img="https://cdn-icons-png.flaticon.com/512/616/616408.png"
             style="background-image: url('https://cdn-icons-png.flaticon.com/512/616/616408.png');"></div>

        <div class="char-option" data-img="https://cdn-icons-png.flaticon.com/512/616/616430.png"
             style="background-image: url('https://cdn-icons-png.flaticon.com/512/616/616430.png');"></div>
    </div>

    <button id="start-btn">START GAME</button>
</div>

<!-- PLAYER -->
<div id="player"></div>

<!-- Scoreboard -->
<div id="scoreboard">
    Score: <span id="score">0</span><br>
    High Score: <span id="highscore">0</span>
</div>

<!-- Game Over -->
<div id="game-over">GAME OVER üíÄ</div>
<button id="restart">Restart</button>

<script>
    const player = document.getElementById("player");
    const scoreDisplay = document.getElementById("score");
    const highScoreDisplay = document.getElementById("highscore");
    const characterSelect = document.getElementById("character-select");
    const startBtn = document.getElementById("start-btn");
    const scoreboard = document.getElementById("scoreboard");
    const gameOverText = document.getElementById("game-over");
    const restartBtn = document.getElementById("restart");

    let score = 0;
    let isPlaying = false;

    let selectedCharacter = null;
    let highScore = localStorage.getItem("highscore") || 0;
    highScoreDisplay.textContent = highScore;

    /* Character selection */
    document.querySelectorAll(".char-option").forEach(option => {
        option.addEventListener("click", () => {
            document.querySelectorAll(".char-option").forEach(o => o.classList.remove("selected"));
            option.classList.add("selected");

            selectedCharacter = option.dataset.img;
            startBtn.style.display = "inline-block";
        });
    });

    /* Start the game */
    startBtn.onclick = () => {
        if (!selectedCharacter) return;

        characterSelect.style.display = "none";
        scoreboard.style.display = "block";
        player.style.display = "block";

        player.style.backgroundImage = `url('${selectedCharacter}')`;
        isPlaying = true;

        spawnItems();
    };

    /* Move player with mouse */
    document.addEventListener("mousemove", e => {
        if (isPlaying)
            player.style.left = (e.clientX - 45) + "px";
    });

    /* Spawning stars + bombs */
    function spawnItems() {
        if (!isPlaying) return;

        let isBomb = Math.random() < 0.25;
        let item = document.createElement("div");
        item.classList.add(isBomb ? "bomb" : "star");
        item.style.left = Math.random() * (window.innerWidth - 50) + "px";

        document.body.appendChild(item);

        let fall = setInterval(() => {
            let itemRect = item.getBoundingClientRect();
            let playerRect = player.getBoundingClientRect();

            if (
                itemRect.bottom >= playerRect.top &&
                itemRect.left <= playerRect.right &&
                itemRect.right >= playerRect.left
            ) {
                if (isBomb) {
                    explode();
                    endGame();
                } else {
                    score++;
                    scoreDisplay.textContent = score;
                }
                item.remove();
                clearInterval(fall);
            }

            if (itemRect.top > window.innerHeight) {
                item.remove();
                clearInterval(fall);
            }
        }, 20);

        setTimeout(spawnItems, isBomb ? 900 : 600);
    }

    function explode() {
        player.classList.add("explode");
        setTimeout(() => player.classList.remove("explode"), 1000);
    }

    function endGame() {
        isPlaying = false;
        gameOverText.style.display = "block";
        restartBtn.style.display = "block";

        if (score > highScore) {
            localStorage.setItem("highscore", score);
        }
    }

    restartBtn.onclick = () => window.location.reload();
</script>

</body>
</html>

